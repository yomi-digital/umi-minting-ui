{"remainingRequest":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/babel-loader/lib/index.js!/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/src/components/Mint.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/src/components/Mint.vue","mtime":1643892053902},{"path":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/cache-loader/dist/cjs.js","mtime":1643034644106},{"path":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/babel-loader/lib/index.js","mtime":1643881613258},{"path":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/cache-loader/dist/cjs.js","mtime":1643034644106},{"path":"/Users/stefano/Desktop/GIT/Yomi/umi-minting-ui/node_modules/vue-loader/lib/index.js","mtime":1643881624354}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zdGVmYW5vL0Rlc2t0b3AvR0lUL1lvbWkvdW1pLW1pbnRpbmctdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIFdlYjMgPSByZXF1aXJlKCJ3ZWIzIik7Cgp2YXIgQUJJXzcyMSA9IHJlcXVpcmUoIi4uL3V0aWwvYWJpNzIxLmpzb24iKTsKCnZhciBBQklfMTE1NSA9IHJlcXVpcmUoIi4uL3V0aWwvYWJpMTE1NS5qc29uIik7Cgp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpOwoKdmFyIEZvcm1EYXRhID0gcmVxdWlyZSgiZm9ybS1kYXRhIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1pbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWIzOiBuZXcgV2ViMyh3aW5kb3cuZXRoZXJldW0pLAogICAgICBjb250cmFjdEFkZHJlc3M6ICIiLAogICAgICBhY2NvdW50OiAiIiwKICAgICAgaXNDb250cmFjdENoZWNrZWQ6ICIiLAogICAgICBjb250cmFjdFN0YW5kYXJkOiAiIiwKICAgICAgLy8gY29udHJhY3Q6IHt9LAogICAgICBzaWduYXR1cmU6ICIiLAogICAgICBjb2RlOiAiIiwKICAgICAgZmlsZVRvTWludDoge30sCiAgICAgIGlzVXBsb2FkaW5nSVBGUzogZmFsc2UsCiAgICAgIGlzVXBsb2FkaW5nTWV0YWRhdGE6IGZhbHNlLAogICAgICBpc01pbnRpbmc6IGZhbHNlLAogICAgICBuYW1lOiAiIiwKICAgICAgaXBmc0ZpbGU6ICIiLAogICAgICBpcGZzTWV0YWRhdGE6ICIiLAogICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgIGF4aW9zOiBheGlvcywKICAgICAgYW1vdW50OiAiIiwKICAgICAgaW5mdXJhVVJMOiAiaHR0cHM6Ly9pcGZzLmluZnVyYS5pbzo1MDAxL2FwaS92MC9hZGQiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY29ubmVjdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY29ubmVjdDogZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFwcCwgYWNjb3VudHMsIGNvbnRyYWN0Q2hlY2tlZCwgc3RhbmRhcmRDb250cmFjdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhcHAgPSBfdGhpczsKICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5lbmFibGUoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwcC53ZWIzLmV0aC5nZXRBY2NvdW50cygpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBhY2NvdW50cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbnRyYWN0ID0gY29udHJhY3Q7CiAgICAgICAgICAgICAgICBhcHAuYWNjb3VudCA9IGFjY291bnRzWzBdOyAvLyBmYXJlIHVuIGZldGNoIHBlciB2ZWRlcmUgc2UgYyfDqCBsJ2luZGlyaXp6byBkZWwgY29udHJhdHRvIG5lbGxvIHN0b3JhZ2UKCiAgICAgICAgICAgICAgICBjb250cmFjdENoZWNrZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29udHJhY3QiKTsKICAgICAgICAgICAgICAgIHN0YW5kYXJkQ29udHJhY3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3RhbmRhcmQiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJDb250cmFjdCBhZGRyZXNzIGluc2VydGVkIiwgY29udHJhY3RDaGVja2VkKTsKCiAgICAgICAgICAgICAgICBpZiAoY29udHJhY3RDaGVja2VkICE9PSBudWxsICYmIGNvbnRyYWN0Q2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmIGNvbnRyYWN0Q2hlY2tlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGFwcC5pc0NvbnRyYWN0Q2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFwcC5pc0NvbnRyYWN0Q2hlY2tlZCk7CiAgICAgICAgICAgICAgICAgIGFwcC5jb250cmFjdEFkZHJlc3MgPSBjb250cmFjdENoZWNrZWQ7CiAgICAgICAgICAgICAgICAgIGFwcC5jb250cmFjdFN0YW5kYXJkID0gc3RhbmRhcmRDb250cmFjdDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFwcC5pc0NvbnRyYWN0Q2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoQ29udHJhY3Q6IGZ1bmN0aW9uIGZldGNoQ29udHJhY3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGFwcCwgY2hlY2tDb250cmFjdDExNTUsIGNoZWNrQ29udHJhY3Q3MjE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFwcCA9IF90aGlzMjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmZXRjaGluZyBjb250cmFjdCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBhcHAud2ViMy5ldGguQ29udHJhY3QoQUJJXzExNTUsIGFwcC5jb250cmFjdEFkZHJlc3MsIHsKICAgICAgICAgICAgICAgICAgZ2FzTGltaXQ6ICI1MDAwMDAwIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNoZWNrQ29udHJhY3QxMTU1ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGVja0NvbnRyYWN0MTE1NSk7CgogICAgICAgICAgICAgICAgaWYgKCEoY2hlY2tDb250cmFjdDExNTUubWV0aG9kcy5wcmVwYXJlICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdGFydGluZyBjaGVja2luZyBjb250cmFjdCAxMTU1Iik7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY29udHJhY3QiLCBhcHAuY29udHJhY3RBZGRyZXNzKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzdGFuZGFyZCIsICIxMTU1Iik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiMTE1NSBpcyBjaGVja2VkIiwgY2hlY2tDb250cmFjdDExNTUpOwogICAgICAgICAgICAgICAgYXBwLmlzQ29udHJhY3RDaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGFwcC53ZWIzLmV0aC5Db250cmFjdChBQklfNzIxLCBhcHAuY29udHJhY3RBZGRyZXNzLCB7CiAgICAgICAgICAgICAgICAgIGdhc0xpbWl0OiAiNTAwMDAwMCIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgY2hlY2tDb250cmFjdDcyMSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChjaGVja0NvbnRyYWN0NzIxLm1ldGhvZHMucmV0dXJuVG9rZW5VUkkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3RhcnRpbmcgY2hlY2tpbmcgY29udHJhY3QgNzIxIik7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjb250cmFjdCIsIGFwcC5jb250cmFjdEFkZHJlc3MpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic3RhbmRhcmQiLCAiNzIxIik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI3MjEgaXMgY2hlY2tlZCIsIGNoZWNrQ29udHJhY3QxMTU1KTsKICAgICAgICAgICAgICAgICAgYXBwLmlzQ29udHJhY3RDaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGUgY29udHJhY3QgYWRkcmVzcyB0aGF0IHlvdSBoYXZlIGluc2VydGVkIGl0J3Mgbm90IHZhbGlkIik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJLRVJORUwgUEFOSUMiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBhbGVydCgiZXJyb3IiKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAyMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgYXBwLCBmb3JtRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYXBwID0gX3RoaXMzOwoKICAgICAgICAgICAgICAgIGlmICghKGFwcC5maWxlVG9NaW50Lm5hbWUgJiYgIWFwcC5pc1VwbG9hZGluZ0lQRlMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vY2hpZWRlcmUgZmlybWEgZGkgdW4gbWVzc2FnZ2lvIGFsIG1ldGFtYXNrICgiQ3JlYXRlIG1ldGFkYXRhIGZvciAgYXBwLmZpbGVUb01pbnQubmFtZSBhdCBuZXcgRGF0ZSgpLmdldFRpbWUoKSIpCiAgICAgICAgICAgICAgICAvL3BlciBtYW5kYXJlIGlsIG1lc3NhZ2dpbyBmYXJlIHVuYSBjaGlhbWF0YToKICAgICAgICAgICAgICAgIGFwcC5jb2RlID0gIkNyZWF0ZSBtZXRhZGF0YSBmb3IgIiArIGFwcC5maWxlVG9NaW50Lm5hbWUgKyAiIGF0ICIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBhcHAud2ViMy5ldGgucGVyc29uYWwuc2lnbihhcHAuY29kZSwgYXBwLmFjY291bnQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBhcHAuc2lnbmF0dXJlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2lnbmF0dXJlIGlzOiIsIGFwcC5zaWduYXR1cmUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIGFsZXJ0KF9jb250ZXh0My50MC5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmIChhcHAuYWNjb3VudCAhPT0gdW5kZWZpbmVkICYmIGFwcC5zaWduYXR1cmUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBhcHAuaXNVcGxvYWRpbmdJUEZTID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgYXBwLmZpbGVUb01pbnQpOwogICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImRlc2NyaXB0aW9uIiwgYXBwLmRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJuYW1lIiwgYXBwLm5hbWUpOwogICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInNpZ25hdHVyZSIsIHsKICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IGFwcC5zaWduYXR1cmUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYXBwLmNvZGUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaWxlbmFtZToiLCBhcHAubmFtZSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkZXNjcmlwdGlvbjoiLCBhcHAuZGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSW0gc3RhcnRpbmcgdG8gY29tdW5pY2F0aW5nIHdpdGggQVBJIik7IC8vY29tZSBhcHBlbmQgbWV0dGVyZSBub21lIGRlc3JpemlvbmUKCiAgICAgICAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGFwcC5pcGZzRmlsZSA9IHJlc3BvbnNlLmRhdGEuSGFzaDsKICAgICAgICAgICAgICAgICAgICBhcHAuaXNVcGxvYWRpbmdJUEZTID0gZmFsc2U7IC8vIGZpbGUgZGkgcmlzcG9zdGEgw6ggZ2nDoCBwcm9udG8gcGVyIGlsIG1pbnRpbmcgKGFwcC5pcGZzTWV0YWRhdGEpCgogICAgICAgICAgICAgICAgICAgIGFwcC5pcGZzTWV0YWRhdGEgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkFQSSBmb3JtIHN1Ym1pdHRlZCIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIlNpZ24gbWVzc2FnZSBmaXJzdCEiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBhbGVydCgiU2VsZWN0IGEgZmlsZSBmaXJzdCEiKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1szLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9UTyBETyBhbCBwb3N0byBkaSBjcmVhdGUganNvbiBmYXJlIGlsIG1pbnQKICAgIG1pbnQ6IGZ1bmN0aW9uIG1pbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGFwcCwgbWludGVkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhcHAgPSBfdGhpczQ7CgogICAgICAgICAgICAgICAgaWYgKGFwcC5pc01pbnRpbmcpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXBwLmlzTWludGluZyA9IHRydWU7IC8vIHNlIMOoIDExNTUKICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgKGFtb3VudCwgaXBmcykKICAgICAgICAgICAgICAgIC8vIHBvaSBtaW50IChhbW91bnQpCiAgICAgICAgICAgICAgICAvLyBzZSDDqCA3MjEKICAgICAgICAgICAgICAgIC8vIG1pbnRuZnQgKGlwZnMpCgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwcC5jb250cmFjdC5tZXRob2RzLm1pbnRPcGVyYShhcHAuaXBmc01ldGFkYXRhKS5zZW5kKHsKICAgICAgICAgICAgICAgICAgZnJvbTogX3RoaXM0LmFjY291bnQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBtaW50ZWQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIGFsZXJ0KCJTdWNjZXNzZnVsbHkgbWludGVkIGF0OiAiICsgbWludGVkLnRyYW5zYWN0aW9uSGFzaCk7CiAgICAgICAgICAgICAgICBhcHAuaXNNaW50aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgYWxlcnQoX2NvbnRleHQ0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1szLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Mint.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div v-if=\"account\">\n      <b>Welcome back</b><br /><i style=\"font-size: 12px\">{{ account }}</i>\n      <div v-if=\"account && isContractChecked\">\n        <p>You are working on contract:</p>\n        <p>\n          <b>{{ contractAddress }}</b>\n        </p>\n      </div>\n      <hr />\n      <div v-if=\"!isContractChecked\">\n        <b-field label=\"Contract\">\n          <b-input v-model=\"contractAddress\"></b-input>\n        </b-field>\n        <b-button class=\"mt-2 is-primary\" @click=\"fetchContract()\"\n          >Submit</b-button\n        >\n      </div>\n\n      <div v-if=\"isContractChecked\" style=\"padding: 0 20px\">\n        <b-field v-if=\"!fileToMint.name\">\n          <b-upload v-model=\"fileToMint\" expanded drag-drop>\n            <section class=\"section\">\n              <div class=\"content has-text-centered\">\n                <p>Drop your files here or click to upload</p>\n              </div>\n            </section>\n          </b-upload>\n        </b-field>\n        <b-field label=\"Name\">\n          <b-input v-model=\"name\"></b-input>\n        </b-field>\n        <b-field label=\"Description\">\n          <b-input\n            maxlength=\"200\"\n            v-model=\"description\"\n            type=\"textarea\"\n          ></b-input>\n        </b-field>\n        <b-field label=\"Amount\">\n          <b-input v-model=\"amount\" type=\"number\"></b-input>\n        </b-field>\n        <b-button\n          type=\"is-primary\"\n          v-if=\"ipfsFile && ipfsMetadata && !isMinting\"\n          expanded\n          v-on:click=\"mint\"\n          >MINT!</b-button\n        >\n        <b-button\n          type=\"is-primary\"\n          v-if=\"!ipfsFile && !ipfsMetadata && !isUploadingIPFS\"\n          expanded\n          v-on:click=\"uploadFile\"\n          >Upload file to IPFS</b-button\n        >\n        <b-button\n          type=\"is-primary\"\n          v-if=\"ipfsFile && !ipfsMetadata && !isUploadingMetadata\"\n          expanded\n          v-on:click=\"createJson\"\n          >Upload metadata to IPFS</b-button\n        ><br />\n        <div v-if=\"fileToMint.name\">\n          Selected file: <b>{{ fileToMint.name }}</b>\n        </div>\n        <div v-if=\"ipfsFile\">\n          File IPFS hash is:\n          <b\n            ><a :href=\"'https://ipfs.io/ipfs/' + ipfsFile\" target=\"_blank\">{{\n              ipfsFile\n            }}</a></b\n          >\n        </div>\n        <div v-if=\"ipfsMetadata\">\n          Metadata IPFS hash is:\n          <b\n            ><a\n              :href=\"'https://ipfs.io/ipfs/' + ipfsMetadata\"\n              target=\"_blank\"\n              >{{ ipfsMetadata }}</a\n            ></b\n          >\n        </div>\n        <div v-if=\"isMinting\">Minting NFT, please wait...</div>\n        <div v-if=\"isUploadingIPFS\">Uploading file to IPFS, please wait...</div>\n        <div v-if=\"isUploadingMetadata\">\n          Uploading metadata to IPFS, please wait...\n        </div>\n      </div>\n    </div>\n    <div v-if=\"!account\">\n      Please connect your Metamask wallet first,<br />window should be open\n      automatically or click below button.<br /><br />\n      <b-button type=\"is-primary\" v-on:click=\"connect\"\n        >CONNECT METAMASK</b-button\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nvar Web3 = require(\"web3\");\nconst ABI_721 = require(\"../util/abi721.json\");\nconst ABI_1155 = require(\"../util/abi1155.json\");\nconst axios = require(\"axios\");\nconst FormData = require(\"form-data\");\n\nexport default {\n  name: \"Mint\",\n  data() {\n    return {\n      web3: new Web3(window.ethereum),\n      contractAddress: \"\",\n      account: \"\",\n      isContractChecked: \"\",\n      contractStandard: \"\",\n      // contract: {},\n      signature: \"\",\n      code: \"\",\n      fileToMint: {},\n      isUploadingIPFS: false,\n      isUploadingMetadata: false,\n      isMinting: false,\n      name: \"\",\n      ipfsFile: \"\",\n      ipfsMetadata: \"\",\n      description: \"\",\n      axios: axios,\n      amount: \"\",\n      infuraURL: \"https://ipfs.infura.io:5001/api/v0/add\",\n    };\n  },\n  mounted() {\n    this.connect();\n  },\n  methods: {\n    async connect() {\n      const app = this;\n      window.ethereum.enable();\n      let accounts = await app.web3.eth.getAccounts();\n      // this.contract = contract;\n      app.account = accounts[0];\n      // fare un fetch per vedere se c'è l'indirizzo del contratto nello storage\n      let contractChecked = localStorage.getItem(\"contract\");\n      let standardContract = localStorage.getItem(\"standard\");\n      console.log(\"Contract address inserted\", contractChecked);\n      if (\n        contractChecked !== null &&\n        contractChecked !== undefined &&\n        contractChecked.length > 0\n      ) {\n        app.isContractChecked = true;\n        console.log(app.isContractChecked);\n        app.contractAddress = contractChecked;\n        app.contractStandard = standardContract;\n      } else {\n        app.isContractChecked = false;\n      }\n    },\n\n    async fetchContract() {\n      const app = this;\n      console.log(\"fetching contract\");\n      try {\n        let checkContract1155 = await new app.web3.eth.Contract(\n          ABI_1155,\n          app.contractAddress,\n          {\n            gasLimit: \"5000000\",\n          }\n        );\n        console.log(checkContract1155);\n        if (checkContract1155.methods.prepare !== undefined) {\n          console.log(\"starting checking contract 1155\");\n          localStorage.setItem(\"contract\", app.contractAddress);\n          localStorage.setItem(\"standard\", \"1155\");\n          console.log(\"1155 is checked\", checkContract1155);\n          app.isContractChecked = true;\n        } else {\n          let checkContract721 = await new app.web3.eth.Contract(\n            ABI_721,\n            app.contractAddress,\n            {\n              gasLimit: \"5000000\",\n            }\n          );\n          if (checkContract721.methods.returnTokenURI !== undefined) {\n            console.log(\"starting checking contract 721\");\n            localStorage.setItem(\"contract\", app.contractAddress);\n            localStorage.setItem(\"standard\", \"721\");\n            console.log(\"721 is checked\", checkContract1155);\n            app.isContractChecked = true;\n          } else {\n            alert(\"The contract address that you have inserted it's not valid\");\n            console.log(\"KERNEL PANIC\");\n          }\n        }\n      } catch (e) {\n        alert(\"error\");\n      }\n    },\n\n    async uploadFile() {\n      const app = this;\n      if (app.fileToMint.name && !app.isUploadingIPFS) {\n        //chiedere firma di un messaggio al metamask (\"Create metadata for  app.fileToMint.name at new Date().getTime()\")\n        //per mandare il messaggio fare una chiamata:\n        app.code =\n          \"Create metadata for \" +\n          app.fileToMint.name +\n          \" at \" +\n          new Date().getTime();\n        try {\n          app.signature = await app.web3.eth.personal.sign(\n            app.code,\n            app.account\n          );\n          console.log(\"signature is:\", app.signature);\n        } catch (e) {\n          alert(e.message);\n        }\n        if (app.account !== undefined && app.signature.length > 0) {\n          app.isUploadingIPFS = true;\n          const formData = new FormData();\n          formData.append(\"file\", app.fileToMint);\n          formData.append(\"description\", app.description);\n          formData.append(\"name\", app.name);\n          formData.append(\"signature\", {\n            signature: app.signature,\n            message: app.code,\n          });\n          console.log(\"filename:\", app.name);\n          console.log(\"description:\", app.description);\n          console.log(\"Im starting to comunicating with API\");\n          //come append mettere nome desrizione\n\n          axios({\n            method: \"post\",\n            url: process.env.VUE_APP_API_URL,\n            data: formData,\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }).then(function(response) {\n            app.ipfsFile = response.data.Hash;\n            app.isUploadingIPFS = false;\n            // file di risposta è già pronto per il minting (app.ipfsMetadata)\n            app.ipfsMetadata = true;\n          });\n          console.log(\"API form submitted\");\n        } else {\n          alert(\"Sign message first!\");\n        }\n      } else {\n        alert(\"Select a file first!\");\n      }\n    },\n\n    //TO DO al posto di create json fare il mint\n    async mint() {\n      const app = this;\n      if (!app.isMinting) {\n        app.isMinting = true;\n        // se è 1155\n        // prepare (amount, ipfs)\n        // poi mint (amount)\n        // se è 721\n        // mintnft (ipfs)\n        try {\n          let minted = await app.contract.methods\n            .mintOpera(app.ipfsMetadata)\n            .send({ from: this.account });\n          alert(\"Successfully minted at: \" + minted.transactionHash);\n          app.isMinting = false;\n        } catch (e) {\n          alert(e);\n        }\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}